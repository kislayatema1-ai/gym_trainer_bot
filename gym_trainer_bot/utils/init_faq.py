from database import add_faq_category, add_faq_item, get_faq_categories
import asyncio

async def init_faq_data():
    # Проверяем, есть ли уже категории в базе
    existing_categories = await get_faq_categories()
    
    if existing_categories:
        print("FAQ данные уже существуют, пропускаем инициализацию.")
        return
    
    print("Добавляем начальные данные FAQ...")
    
    # Добавляем категории FAQ
    categories = [
        ("Техника упражнений", "Вопросы по правильной технике выполнения"),
        ("Питание", "Вопросы по питанию и диете"),
        ("Программы тренировок", "Вопросы по программам тренировок"),
        ("Оборудование", "Вопросы по использованию инвентаря"),
        ("Общие вопросы", "Общие вопросы по работе с ботом")
    ]
    
    for category_name, description in categories:
        await add_faq_category(category_name, description)
    
    # Добавляем вопросы и ответы
    faq_items = [
        # Техника упражнений
        (1, "Как правильно делать приседания?", 
         "• Спина прямая, грудь вперед\n• Колени не выходят за носки\n• Опускайтесь до параллели с полом\n• Вес на пятках"),
        
        (1, "Как правильно делать становую тягу?",
         "• Спина прямая, не округлять\n• Брать штангу близко к голеням\n• Поднимать за счет ног и спины\n• Не дергать штангу"),
        
        # Питание
        (2, "Сколько белка нужно в день?",
         "• Для набора массы: 1.6-2.2 г/кг веса\n• Для похудения: 1.2-1.6 г/кг веса\n• Для поддержания: 1.0-1.2 г/кг веса"),
        
        (2, "Когда лучше есть углеводы?",
         "• Сложные углеводы - утром и до тренировки\n• Простые углеводы - после тренировки\n• Вечером лучше белок и овощи"),
        
        # Общие вопросы
        (5, "Как правильно снимать упражнения на видео?",
         "• Снимайте с нескольких ракурсов\n• Покажите всю амплитуду движения\n• Убедитесь, что видна техника\n• Длительность 15-30 секунд"),
        
        (5, "Как часто отправлять отчеты?",
         "• Видеоотчеты - 1-2 раза в неделю\n• Отчеты о питании - ежедневно\n• Отчеты о состоянии - по необходимости")
    ]
    
    for category_id, question, answer in faq_items:
        await add_faq_item(category_id, question, answer)
    
    print("FAQ данные успешно добавлены!")

# Для тестирования
if __name__ == "__main__":
    import asyncio
    asyncio.run(init_faq_data())